-- Script Jar.xHub by FajarGamingOfficial
-- Khusus Map VIOLENCE DISTRICT (Specimen Zero)

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Jar.xHub",
   LoadingTitle = "Jar.xHub",
   LoadingSubtitle = "by FajarGamingOfficial",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "JarHub",
      FileName = "ConfigJar"
   }
})

-- TAB 1: MAIN (SPEED & JUMP)
local TabMain = Window:CreateTab("Main", 4483362458)

TabMain:CreateSlider({
   Name = "WalkSpeed",
   Range = {0, 500}, 
   Increment = 1, 
   CurrentValue = 16, 
   Flag = "SpeedSlider", 
   Callback = function(Value)
       game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
   end
})

TabMain:CreateSlider({
   Name = "JumpPower",
   Range = {0, 300}, 
   Increment = 1, 
   CurrentValue = 50, 
   Flag = "JumpSlider", 
   Callback = function(Value)
       game.Players.LocalPlayer.Character.Humanoid.JumpPower = Value
   end
})

-- TAB 2: TELEPORT
local TabTeleport = Window:CreateTab("Teleport", 4483342458)

TabTeleport:CreateInput({
   Name = "Ketik Inisial/Huruf",
   PlaceholderText = "Misal: S, A, Player...",
   RemoveTextAfterFocusLost = false,
   Callback = function(Text)
       TargetInisial = Text 
       Rayfield:Notify({Title = "Jar.xHub", Content = "Mencari: "..Text, Duration = 2})
   end
})

TabTeleport:CreateButton({
   Name = "TELEPORT (Cari Otomatis)",
   Callback = function()
       local me = game.Players.LocalPlayer
       if TargetInisial and TargetInisial ~= "" then
           local foundPlayer = nil
           local foundName = ""
           local lowerTarget = string.lower(TargetInisial)

           for i, player in pairs(game.Players:GetPlayers()) do
               if player ~= me then
                   local playerName = string.lower(player.Name)
                   if string.find(playerName, lowerTarget) then
                       foundPlayer = player
                       foundName = player.Name
                       break
                   end
               end
           end

           if foundPlayer and foundPlayer.Character and foundPlayer.Character:FindFirstChild("HumanoidRootPart") then
               if me.Character and me.Character:FindFirstChild("HumanoidRootPart") then
                   me.Character.HumanoidRootPart.CFrame = foundPlayer.Character.HumanoidRootPart.CFrame
                   Rayfield:Notify({Title = "Jar.xHub", Content = "Teleport ke: "..foundName, Duration = 3})
               end
           else
               Rayfield:Notify({Title = "Error", Content = "Player '"..TargetInisial.."' tidak ketemu!", Duration = 3})
           end
       else
           Rayfield:Notify({Title = "Error", Content = "Ketik inisial dulu!", Duration = 2})
       end
   end
})

-- TAB 3: VISUAL (ESP VIOLENCE DISTRICT - MAP SPECIMEN ZERO)
local TabVisual = Window:CreateTab("Visual", 4483345998)

local EspEnabled = false
local EspBoxes = {}

-- Fungsi ESP Khusus Map Violence District (Mencari Model)
local function UpdateEsp()
    -- Hapus ESP lama jika mati
    if not EspEnabled then
        for _, v in pairs(EspBoxes) do
            if v and v.Parent then
                v:Destroy()
            end
        end
        EspBoxes = {}
        return
    end

    -- 1. Cari Model Monster (Biasanya bernama "Specimen" atau "Enemy")
    -- Di Violence District, monster adalah NPC (Model)
    local allModels = workspace:GetDescendants()
    
    for _, obj in pairs(allModels) do
        -- Cek apakah itu Model (Monster/Enemy)
        if obj:IsA("Model") and obj.Name ~= "Map" and obj.Name ~= game.Players.LocalPlayer.Name then
            
            -- Filter: Cari yang punya Humanoid (Tanda itu makhluk hidup)
            if obj:FindFirstChild("Humanoid") and obj:FindFirstChild("HumanoidRootPart") then
                
                -- Jangan ESP Player (Kita hanya mau Monster di Violence District)
                local isPlayer = false
                for _, player in pairs(game.Players:GetPlayers()) do
                    if player.Character == obj then
                        isPlayer = true
                        break
                    end
                end

                -- Jika BUKAN Player, maka dia MONSTER
                if not isPlayer then
                    local existingEsp = EspBoxes[obj.Name]
                    
                    if not existingEsp then
                        -- Buat Highlight (Warna Merah Terang)
                        local highlight = Instance.new("Highlight")
                        highlight.Name = "JarEspViolenceDistrict"
                        highlight.FillColor = Color3.fromRGB(255, 0, 0) -- Merah Darah
                        highlight.OutlineColor = Color3.fromRGB(0, 0, 0) -- Hitam
                        highlight.FillTransparency = 0.3
                        highlight.OutlineTransparency = 0
                        highlight.Adornee = obj
                        highlight.Parent = obj
                        EspBoxes[obj.Name] = highlight
                    end
                end
            end
        end
    end
end

TabVisual:CreateToggle({
   Name = "ESP Violence District (Monster)",
   CurrentValue = false,
   Flag = "ESPToggle",
   Callback = function(Value)
       EspEnabled = Value
       
       if Value then
           Rayfield:Notify({Title = "Jar.xHub", Content = "ESP ON! Lihat monster di tembok.", Duration = 2})
           spawn(function()
               while EspEnabled do
                   UpdateEsp()
                   wait(1.5) -- Update tiap 1.5 detik
               end
           end)
       else
           Rayfield:Notify({Title = "Jar.xHub", Content = "ESP OFF", Duration = 2})
           UpdateEsp() -- Bersihkan
       end
   end
})

Rayfield:LoadConfiguration()
